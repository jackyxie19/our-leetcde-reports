# Redis

Redis是个单线程程序，对于O(n)级别指令要小心使用。通过非阻塞IO实现并发（时分复用）。

Redis全部数据存在内存中，将数据以RDB及AOF方式持久化至硬盘防止数据丢失。RDB是快照方式，是一次全量备份；AOF是连续的增量备份。快照数据正在存储上紧凑，AOF只存储数据修改的指令记录。Redis使用COW（copy on write）方式实现持久化，修改时复制一份数据再对复制数据进行修改。

Redis的AOF先做参数校验与逻辑处理，没问题立即将指令文本添加到AOF日志中，不同于其他存储引擎先存储日志再做逻辑处理。